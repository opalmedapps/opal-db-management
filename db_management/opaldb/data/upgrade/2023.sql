-- Upgrade script to upgrade from the latest version (January 2022) at the MUHC to the new version (TBD in 2023)

-- Upgrade modules

-- Insert Hospital Settings and Clinician Dashboard
INSERT INTO `module` (`ID`, `operation`, `name_EN`, `name_FR`, `description_EN`, `description_FR`, `tableName`, `controlTableName`, `primaryKey`, `iconClass`, `url`, `subModule`, `subModuleMenu`, `core`, `active`, `categoryModuleId`, `publication`, `customCode`, `unique`, `order`, `sqlPublicationList`, `sqlDetails`, `sqlPublicationChartLog`, `sqlPublicationListLog`, `sqlPublicationMultiple`, `sqlPublicationUnique`) VALUES
(24,	3,	'Hospital Settings',	'Paramètres de l\'hôpital',	'Manage hospital settings.',	'Gérer les paramètres de configuration de l\'hôpital.',	'',	'',	'',	'fa fa-wrench',	'hospital-settings',	'',	0,	1,	1,	1,	0,	0,	1,	22,	'',	'',	'',	'',	'',	''),
(25,	3,	'Clinician Dashboard',	'Tableau de bord du clinicien',	'Clinician Dashboard Tools.',	'Outils du tableau de bord du clinicien.',	'',	'',	'',	'fa fa-user-md',	'clinician',	'',	0,	1,	1,	1,	0,	0,	1,	21,	'',	'',	'',	'',	'',	'');

-- Add Clinician Dashboard and Hospital Settings to System Administrator
INSERT INTO `oaRoleModule` (`moduleId`, `oaRoleId`, `access`) VALUES
(24, 36, 3),
(25, 36, 3);

-- Add pathology alias
INSERT INTO `Alias` (`AliasType`, `AliasUpdate`, `AliasName_FR`, `AliasName_EN`, `AliasDescription_FR`, `AliasDescription_EN`, `EducationalMaterialControlSerNum`, `HospitalMapSerNum`, `SourceDatabaseSerNum`, `ColorTag`, `WaitTimeValidity`, `SessionId`) VALUES
('Document',	1,	'Pathologie Chirurgicale Rapport Final',	'Surgical Pathology Final Report',	'<p><b>Qu\'est-ce qu\'un rapport de pathologie?</b></p><p>Un rapport de pathologie est un document médical décrivant l\'examen d\'un tissu par un pathologiste. Le pathologiste est un médecin spécialiste qui travaille en étroite collaboration avec les autres médecins de l\'équipe soignante.</p><p><b>Quelles sont les informations contenues dans un rapport de pathologie?</b></p><p>Tous les rapports de pathologie comprennent des sections consacrées aux informations sur le patient, à la source de l\'échantillon, aux antécédents cliniques et au diagnostic. Les rapports de pathologie chirurgicale (ceux qui décrivent l\'examen d\'échantillons de tissus plus importants tels que les biopsies, les excisions et les résections) comprennent généralement aussi des sections pour les descriptions microscopiques et macroscopiques et les commentaires du pathologiste.</p><p>Cette explication est tirée de la section FAQ du site web <a href=\"http://www.mypathologyreport.ca/fr/pathology-reports-frequently-asked-questions/\" target=\"\">MonRapportPathologique</a>.<!--EndFragment--></p><p><a href=\"http://www.mypathologyreport.ca/fr/pathology-reports-frequently-asked-questions/\" target=\"\">MonRapportPathologique</a> est un outil éducatif créé par des médecins pour aider les patients à lire et à comprendre leurs rapports de pathologie.</p><p>Pour toute autre question ou demande de renseignements, veuillez en discuter avec votre équipe clinique.<br/></p>',	'<p><b>What is a pathology report?</b></p><p>A pathology report is a medical document describing the examination of tissue by a pathologist. A pathologist is a specialist medical doctor who works closely with the other doctors in your healthcare team.<!--EndFragment--></p><p><b>What information is included in a pathology report?</b></p><p>All pathology reports include sections for patient information, specimen source, clinical history, and diagnosis. Surgical pathology reports (those that describe the examination of larger tissue samples such as biopsies, excisions, and resections) will typically also include sections for microscopic and gross descriptions and comments by the pathologist.</p><p>This explanation was taken from the FAQ section of the <a href=\"http://www.mypathologyreport.ca/pathology-reports-frequently-asked-questions/\" target=\"\">MyPathologyReport.ca</a> website.</p><p><a href=\"http://www.mypathologyreport.ca/pathology-reports-frequently-asked-questions/\" target=\"\">MyPathologyReport.ca</a> is an educational tool created by doctors to help patients read and understand their pathology reports.</p><p>For all other questions or inquiries, please discuss them with your clinical team.<br/></p>',	NULL,	NULL,	1,	'#64FFDA',	1,	'kV0AUjLT35');
INSERT INTO `AliasExpression` (`AliasSerNum`, `masterSourceAliasId`, `ExpressionName`, `Description`, `SessionId`) VALUES
(LAST_INSERT_ID(),	Null,	'Pathology',	'Pathology',	'kV0AUjLT35');

-- TODO: add databank consent form
